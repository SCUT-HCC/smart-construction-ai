"""S10 配置 — 融合策略参数与优先级定义"""

from __future__ import annotations

# ---------------------------------------------------------------------------
# 优先级定义（数字越小越优先）
# ---------------------------------------------------------------------------
PRIORITY_KG_RULE: int = 1  # LightRAG 推理出的强制规范/规则
PRIORITY_VECTOR_CASE: int = 2  # qmd 检索的相似案例片段
PRIORITY_TEMPLATE: int = 3  # 通用模板（templates collection）
PRIORITY_FREE_GEN: int = 4  # LLM 自由生成（不在检索阶段产生，仅供下游使用）

# ---------------------------------------------------------------------------
# 默认检索参数
# ---------------------------------------------------------------------------
DEFAULT_VECTOR_TOP_K: int = 3
DEFAULT_VECTOR_THRESHOLD: float = 0.6

# ---------------------------------------------------------------------------
# 需要 KG 推理的章节集合
# 安全/质量/应急相关章节需要从知识图谱推理强制规范
# ---------------------------------------------------------------------------
CHAPTERS_NEED_KG: set[str] = {
    "ch07_quality",
    "ch08_safety",
    "ch09_emergency",
}

# ---------------------------------------------------------------------------
# templates collection 名称（用于判断向量检索结果的优先级）
# ---------------------------------------------------------------------------
TEMPLATE_COLLECTION: str = "templates"
